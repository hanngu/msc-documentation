\section{Conclusion}
\label{sec:conclusion}

The goal of this thesis was to optimize urban transit routes in order to increase the number of public transportation passengers. By creating sufficient route networks, public transportation will be more attractive to urban travelers. We have in this thesis demonstrated how swarm intelligence inspired methods can create sufficient solutions to urban transit routing problems. This is done by conducting a Structured Literature Review\citep{kofod2014}, as well as designing and implementing the proposed system. 

The conducted experiments and implementations are done in order to help answer the Research Questions established in Section \vref{sec:goalAndResearchQuestions}. \ref{itm:RQ1} is answered as a whole in Section \vref{subsec:relatedWorkConclusion}, while \ref{itm:RQ2} and \ref{itm:RQ3} are answered below. 

%The task of solving vehicle routing problems, more precisely the urban transit routing problem (UTRP), has proven to be useful using swarm intelligence (SI) methods. The proposed Combined Swarm System is an implementation of the ant colony optimization with additional features inspired by other swarm intelligence methods. Results are compared on the basis of Mandl's benchmark problem of a Swiss bus network, which is probably the widely investigated and accepted benchmark problem in the relevant literature within UTRP. The proposed system shows promise for optimizing transit routes in such a way that the average travel time experienced by passengers is reduced. 

\subsection*{RQ 2: Is it efficient to add attributes from other swarm intelligence methods to improve the ant colony optimization algorithm?}

%We have demonstrated how the implementation of a standard ant colony optimization (ACO) converge towards a local optimum when the pheromone trail laid by previous ants become excessively attractive to the following once. 
In this thesis, a Combined Swarm System (CSS) is designed, implemented and applied to the Urban Transit Network Problem in order to create feasible and efficient route networks. The proposed system was compared against a standard ACO implementation to establish if the added attributes from bee colony optimization and particle swarm optimization were effective. The proposed ACO implementation was identical to the proposed system, but without the additional attributes ``memory'', ``following ants'', and ``crazy ants''. This enables a direct comparison of the two. The results demonstrate that the proposed system on average performs better than the ACO implementation regarding all performance criteria.

The computational results of the proposed system were also compared with eight other methods published in the literature. CSS shows promising and competitive results, especially regarding the average travel time experienced by travelers. The results are all compared on the basis of Mandl's benchmark problem of a Swiss bus network, which is a well-known and accepted benchmark problem. 

%The proposed system was tested towards a standard ACO implementation to establish whether adding attributes from other swarm intelligence methods improved its performance. To be determined whether the additional attributes improved the ACO algorithm, the basis of the proposed system use an ACO. By having an otherwise identical implementation allowed direct comparison of the two. 

%A following feature, inspired by how BCO operates, was added to the proposed system. This feature rewards edges in the best route sets found so far with additional pheromone. In addition, a random feature was added to enable exploration of (possible) better solutions regardless of the pheromone values on the edges. A decreasing parameter, inspired by PSO, was implemented to balance the global and local search. 

Based on the comparison of the standard ACO implementation and CSS we cannot, unambiguously, conclude that the additional attributes inspired by PSO and BCO were the only reasons the improved performance. The additional ``memory'' attribute, inspired by \citet{dorigo96, sedighpour14, poorzahedy11, salehinejad10}, was also implemented in the proposed system and is partly responsible for the performance improvement. However, results from the individual tests conducted on the additional parameters inspired by PSO and BCO demonstrated improvement. With this we can, therefore, conclude that the additional attributes inspired by other swarm intelligence methods improved the standard implementation of ACO. 

\subsection*{RQ 3: Is it possible to apply the proposed algorithm to optimize urban transit routes in large urban cities?}

We have conducted additional experiments on larger networks, more similar to real transit networks. We have also investigated how the usage of a Neo4j graph database affects our development process and the quality of the solution. 

Neo4j includes several features that are advantageous for these types of routing problems. However, the proposed solution as-is will not be possible to use for optimizing transit routes in large urban cities. This is because the number of RelationshipTypes generated by the proposed system most likely will be above the limit of allowed RelationshipTypes in  Neo4j. The number of RelationshipTypes generated are dependent on the swarm size, number of iterations and allowed routes. As an example does Trondheim consists of 42 routes compared to the 4-8 routes in the Mandl Network. If we were to use the current solution to optimize the route network in Trondheim, the number of RelationshipTypes created would be $8056250$ whereas the number of allowed RelationshipTypes in Neo4j is $65536$. To use the proposed system on larger networks, changes in the utilization or removal of  Neo4j will have to be done. 

The run time of the proposed system is dependent on the method used for evaluation, as well as the size of the network, number of iterations and colony size. However, generating urban transit routes is not a frequent task. Changing the transit routes often, will result in unsatisfied passengers due to the frequent need to adapt to changes. Moreover, once an optimal urban transit network is created, there is no need for change. Because of this, the runtime will not be an issue, given that the system creates a better solution than the one that already exists. 

%The run time and performance of the proposed system are highly dependent on the method used for evaluation, and one would have to choose one method at the expense of the other. However, because generating bus routes is an infrequent task, we believe an extended run time is acceptable, given that the system creates a better solution than the one that already exists.  