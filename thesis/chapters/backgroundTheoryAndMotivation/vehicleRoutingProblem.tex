\section{Vehicle Routing Problem }
%ToDO: Skal denne v√¶re med?
Routing problems are represented by relevant locations in a graph. This graph consist of a set of nodes and a set of edges, and is formulated as follows; G = (V,E). They can be distinguished according to the type of requests that need to be serviced, that is either arc-based and node-based routing problems. The vehicle routing problem (VRP) is a node based routing problem, as these problems arise if customers are located at nodes so that vehicles remain at the same position while servicing a customer request\citep{vehiclerouting}.

The Vehicle Routing Problem (VRP) was first introduced by \citet{dantzig59} and is a generic name given to a broad class of optimization problems. It can be described as the task of designing the optimal set of routes for a fleet of vehicles, in order to serve a given set of customers. The problem involves making deliveries to a set of customers with known demands on routes originating and terminating at one or more depots, and the objective is to minimize the total route cost. 

\subsection{Urban Transit Network Design Problem}

The problem of designing urban transit routes and schedules is called the urban transit network problem (UTNDP), and is a sub-problem of the vehicle routing problem. The aim is to design efficient urban transit routes and schedules on an existing transit network with predefined pick-up and drop-off points, such as bus routes. The two major components of UTNDP is called the urban transit routing problem (UTRP) and the urban transit scheduling problem (UTSP).

\begin{itemize}
\item UTRP is the task of developing a set of routes on an existing urban transit network, following certain constraints. It can be defined as the \textit{physical} design of the UTNDP \citep{fan09}. 
 
In a transit network, neighboring nodes (bus stops) are linked by an arc or edge. In the tour planning process a set of (requests / nodes ) needs to be assigned to a set of resources. Performing the assignment and sequencing tasks results in a tour for each vehicle. Each step in a tour, traveling from one request / node to the next, is called a route. A tour plan consists of several routes; several nodes connected by edges. When all the routes in a tour plan are superimposed / layered, this will a form a route network, and is also denoted as the solution of the considered problem. The generation of a tour plan is defined by the objective function, and assigns a specific objective function value to each solution. The goal is to find the optimal solution; the ones with the best objective function among all feasible solutions. \citep{vehiclerouting}. A route network should contain all the nodes, but may not contain all the edges present in the original transit network.

(Accurate estimates of travel demand are essential, and a good tour plan will ensure that travel requirements with a heavy demand are satisfied, with short travel and few vehicle transfers. (Future work: Travel demand can be estimated by examining ticket sales, carrying out a survey, or undertaking analysis. This is difficult in practice, because demand is dynamical and highly sensitive to factors such as pricing and quality of service. In addition to satisfying customer demand, design guidelines are determined by many additional factors, including the street environment and management policies by the local government).)

%TODO: skrive om 
\item UTSP involves the development of schedules, arrival and department times, for the public vehicles, to travel along predefined routes. It can also be defined as the \textit{operational} design of the UTNDP \citep{fan09}. 
The contents of the schedule involves minimizing the time a passenger has to wait at each node (bus sop), within certain constraints, such as limited fleet size and bus capacity.  The total waiting time includes the waiting time at their origin and the sum of transferring time. 

\end{itemize}

UTRP and UTSP are usually implemented sequentially, because the development of routes should be completed before the development of schedules. 

\subsubsection{Difficulties in Solving the UTNDP}
%TODO: flette dette inn i motivation? Skrive om.
There are some difficulties in solving the UTNDP. First of all, the UTNDP is an NP-hard problem due to the need to search for optimal solutions from a large number of possible solutions. Some of the constraints can be difficult to model and satisfy, as the feasibility of the tour plan needs to be ensured, which can involve a significant number of computations. Parts of the solutions are independent, because a performance of a route is dependent on the other routes in the tour plan. Travel demand can be difficult to get hold of and can be different at every hour of the day, and designs will therefore be flawed if the data is of poor quality. In addition, passengers can become confused or dissatisfied if there are to many changes to travel routes different times of day, AtB says. 

%ToDo: skrive om
The ideal situation would be to solve UTNDP in one go, and produce a route network and an associated set of vehicle frequencies simultaneously. But in practice, the nature of a route network means that, once established, it is much more stable and difficult to change than a vehicle schedule. Since travel demand varies, it is easy to schedule more buses at busy times. The level of service requirements is sensitive factors (passenger flow, weather and road conditions), and needs to be adjusted to different situations. Therefore, the quality of the network design may be adversely influenced if transit route network and frequencies are simultaneously optimized. 




