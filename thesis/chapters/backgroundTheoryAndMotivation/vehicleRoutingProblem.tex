\section{Vehicle Routing Problem }

The Vehicle Routing Problem (VRP) was first introduced by \citet{dantzig59} and is a generic name given to a broad class of optimization problems. It can be described as the task of designing the optimal set of routes for a fleet of vehicles, in order to serve a given set of customers. The problem involves making deliveries to a set of customers with known demands on routes originating and terminating at one or more depots. The objective of any routing problem is usually the minimization of costs, ( e.g reducing the route lengths, the number of vehicles, or minimize the total route cost) . 

Routing problems are represented as a road network by relevant locations in a graph, and this graph consist of a set of nodes an a set of edges, G = (V,E). Nodes are directly connected by some edge, and it can be a non-directed or a directed network. 
%They can be distinguished according to the type of requests that need to be serviced, that is either arc-based and node-based routing problems. The vehicle routing problem (VRP) is a node based routing problem, as these problems arise if customers are located at nodes so that vehicles remain at the same position while servicing a customer request \citep{vehiclerouting}. ) 
%The structure of a network can be a matrix formulation, aij, where i and j are nodes. 
% adjacency matrix aij(1: arc 0: no arc) or incidence matric bij ( -1 arc j starts at vertex i, 0: arc j neither starts nor ends at vertex i. -1: arc j ends at vertex i).
%A connected graph means it is complete, and this means it contains as many edges as possible, without having any edge more than once. 

\subsection{Urban Transit Network Design Problem}

The problem of designing urban transit routes and schedules is called the urban transit network problem (UTNDP), and is a sub-problem of the vehicle routing problem. The aim is to design efficient urban transit routes and schedules on an existing transit network with predefined pick-up and drop-off points, such as bus routes, while adhering to practical constraints. The two major components of UTNDP is called the urban transit routing problem (UTRP) and the urban transit scheduling problem (UTSP).

\begin{itemize}
\item UTRP is the task of developing a set of routes on an existing urban transit network, following certain constraints. It can be defined as the \textit{physical} design of the UTNDP \citep{fan09}. 

%TODO: Denne må gjøres om til å stå route set ikke tour plan
In a transit network, neighboring nodes (bus stops) are linked by an arc or edge. Performing the assignment and sequencing tasks results in a tour for each vehicle. Each step in a tour, traveling from one request / node to the next, is called a route, and a route will consist of several nodes connected by edges to form a path. A route set consists of several routes combined. When all the routes in a route set are superimposed / layered, it will a form a route network, and is also denoted as the solution of the considered problem. The generation of a route set is defined by the objective function, and assigns a specific objective function value to each solution. The goal is to find the optimal solution; the ones with the best objective function among all feasible solutions. \citep{vehiclerouting}. A route network should contain all the nodes, but may not contain all the edges present in the original transit network. The criteria for a good route set includes that the entire transit demand is served, and a large percentage of this demand is served through direct connections. In addition, the average travel time per transit user should be as low as possible. The constraints to be satisfied includes a maximum and minimum length for each route, it should be a limited number of stops in a single route, it should be a connected route set  (cover the whole network in a city and ensure that all customers get to their destinations), and cycles or backtracks are allowed\citep{fan09}.

\item UTSP involves the development of schedules, arrival and department times, for the public vehicles, to travel along predefined routes. It can also be defined as the \textit{operational} design of the UTNDP \citep{fan09}. 
The contents of the schedule involves minimizing the time a passenger has to wait at each node (bus sop), following certain constraints, such as limited fleet size and bus capacity.  The total waiting time includes the waiting time at their origin and the sum of transferring time. 

UTRP and UTSP are usually implemented sequentially, because the development of routes should be completed before the development of schedules. 
\end{itemize}

There are some difficulties in solving the UTNDP. First of all, the UTNDP is an NP-hard problem due to the need to search for optimal solutions from a large number of possible solutions. Some of the constraints can be difficult to model and satisfy, as the feasibility of the tour plan needs to be ensured, which can involve a significant number of computations. Travel demand can be difficult to get hold of and can be different at every hour of the day, and designs will therefore be flawed if the data is of poor quality. In addition, passengers can become confused or dissatisfied if there are to many changes to travel routes different times of day, AtB says. 

%\subsubsection{Difficulties in Solving the UTNDP}
%TODO: skrive om / flette dette inn i motivation? 
%There are some difficulties in solving the UTNDP. First of all, the UTNDP is an NP-hard problem due to the need to search for optimal solutions from a large number of possible solutions. Some of the constraints can be difficult to model and satisfy, as the feasibility of the tour plan needs to be ensured, which can involve a significant number of computations. Parts of the solutions are independent, because a performance of a route is dependent on the other routes in the tour plan. Travel demand can be difficult to get hold of and can be different at every hour of the day, and designs will therefore be flawed if the data is of poor quality. In addition, passengers can become confused or dissatisfied if there are to many changes to travel routes different times of day, AtB says. The ideal situation would be to solve UTNDP in one go, and produce a route network and an associated set of vehicle frequencies simultaneously. But in practice, the nature of a route network means that, once established, it is much more stable and difficult to change than a vehicle schedule. Since travel demand varies, it is easy to schedule more buses at busy times. The level of service requirements is sensitive factors (passenger flow, weather and road conditions), and needs to be adjusted to different situations. Therefore, the quality of the network design may be adversely influenced if transit route network and frequencies are simultaneously optimized. 




