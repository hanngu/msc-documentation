\section{Vehicle Routing Problem }
\label{sec:VRP}
The Vehicle Routing Problem (VRP) was first introduced by \citet{dantzig59} and is a generic name given to a broad class of optimization problems. It can be described as the task of designing the optimal set of routes for a fleet of vehicles to serve a given set of customers. The problem involves making deliveries to a set of customers with known demands on routes originating and terminating at one or more depots. The objective of any routing problem is usually the minimization of costs, such as reducing route lengths, number of vehicles, or minimize the total route cost.

Routing problems are represented as a road network by relevant locations in a graph. This graph will consist of a set of nodes and a set of edges, $G = (V,E)$. Nodes are directly connected by an edge, and it can be an undirected or a directed graph. 

\subsection{Urban Transit Network Design Problem}

The problem of designing urban transit routes and schedules is called the Urban Transit Network Problem (UTNDP) and is a sub-problem of the VRP. The aim with this problem is to design efficient urban transit routes and schedules on an existing transit network while adhering to practical constraints. These constraints can include the maximum and minimum length for each route and the number of allowed routes in a route set. The two major components of UTNDP is called the Urban Transit Routing Problem (UTRP) and the Urban Transit Scheduling Problem (UTSP):

\begin{itemize}
\item UTRP is the task of developing a set of routes on an existing urban transit network, following certain constraints. It can be defined as the \textit{physical} design of the UTNDP \citep{fan09}. In a transit network, neighboring nodes (bus stops) are linked by an edge. Each step in a tour, traveling from one node to the next, is called a route, and a route will consist of several nodes connected by edges to form a path. Further, a route set consists of several routes combined. When all the routes in a route set are created, it will a form a route network. The selection of the best-generated route set is defined by an objective function. The goal is to find the optimal solution: The one with the best objective function value among all feasible solutions \citep{vehiclerouting}. A route network should include all the nodes, but may not contain all the edges present in the original transit network. The criteria for a good route set includes that the entire transit demand is served and that a large percentage of this demand is served through direct connections. In addition, the average travel time per transit user should be as low as possible. 

\item UTSP involves the development of schedules, arrival and department times, for the public vehicles, to travel along predefined routes. It can also be defined as the \textit{operational} design of the UTNDP \citep{fan09}. 
The contents of the schedule involves minimizing the time a passenger has to wait at each node (bus stop), following certain constraints, such as limited fleet size and bus capacity.  The total waiting time includes the waiting time at their origin, in addition to the sum of the transferring time.

UTRP and UTSP are usually implemented sequentially because the development of routes should be completed before the development of schedules. 
\end{itemize}

There are some difficulties in solving the UTNDP. UTNDP is an NP-hard problem due to the need to search for optimal solutions among a large number of possible solutions. Some of the constraints may be difficult to model and satisfy. The generation and validation of the routes may involve a significant number of computations, which makes the run time high. Also, travel demand may be difficult to get hold of and are likely different from every hour of the day. The design will, therefore, be flawed if the data is of poor quality.   

%\subsubsection{Difficulties in Solving the UTNDP}
%TODO: skrive om / flette dette inn i motivation? 
%There are some difficulties in solving the UTNDP. First of all, the UTNDP is an NP-hard problem due to the need to search for optimal solutions from a large number of possible solutions. Some of the constraints can be difficult to model and satisfy, as the feasibility of the tour plan needs to be ensured, which can involve a significant number of computations. Parts of the solutions are independent, because a performance of a route is dependent on the other routes in the tour plan. Travel demand can be difficult to get hold of and can be different at every hour of the day, and designs will therefore be flawed if the data is of poor quality. In addition, passengers can become confused or dissatisfied if there are to many changes to travel routes different times of day, AtB says. The ideal situation would be to solve UTNDP in one go, and produce a route network and an associated set of vehicle frequencies simultaneously. But in practice, the nature of a route network means that, once established, it is much more stable and difficult to change than a vehicle schedule. Since travel demand varies, it is easy to schedule more buses at busy times. The level of service requirements is sensitive factors (passenger flow, weather and road conditions), and needs to be adjusted to different situations. Therefore, the quality of the network design may be adversely influenced if transit route network and frequencies are simultaneously optimized. 

%They can be distinguished according to the type of requests that need to be serviced, that is either arc-based and node-based routing problems. The vehicle routing problem (VRP) is a node based routing problem, as these problems arise if customers are located at nodes so that vehicles remain at the same position while servicing a customer request \citep{vehiclerouting}. ) 
%The structure of a network can be a matrix formulation, aij, where i and j are nodes. 
% adjacency matrix aij(1: arc 0: no arc) or incidence matric bij ( -1 arc j starts at vertex i, 0: arc j neither starts nor ends at vertex i. -1: arc j ends at vertex i).
%A connected graph means it is complete, and this means it contains as many edges as possible, without having any edge more than once. 




