\section{Related work}
\label{sec:relatedWork}

%The research gathered from the SLR will form the foundation of the thesis, and this Section is the results of the final data synthesis, 

%\newline
%----------------------------- solving VRPs using swarm intelligence using car transirtation

\subsection{Vehicle Routing Problems}
\label{subsec:relatedWorkVRP}

As stated, all the retrieved literature from the structured literature review has studied the possibility of solving VRPs using swarm intelligence. \citet{hsiao04}, \citet{salehi-nezhad07}, \citet{tripathi09}, \citet{dias14}, \citet{salehinejad10}, and \citet{sedighpour14} all use swarm intelligence to solve vehicle routing problems involving cars transporting either persons or goods.

%Mangler informasjon om algoritmene som sammenlignes med. Parametersettingen er beskrevet, men ikke forklart. 
\citet{hsiao04} presented an approach to search for the best path of a map considering the traffic loading conditions. To do this, they proposed an ACO algorithm to search for the shortest path from a desired origin to a desired destination. The presented algorithm is a classic ACO algorithm without changes and compared their algorithm to a brute method emphasizing on the time used to generate the route. Their results state that if the map consists of more than 200 nodes, the ACO performs better than a brute method. In fact, they found that the more nodes the map contains, the higher the benefit of using the ACO algorithm. 

\citet{salehi-nezhad07} presented an ACO algorithm to search for the best path between two desired intersections in cities, called Ant-based Vehicle Navigation algorithm. To get more accurate results than a standard ACO algorithm they employed a \textit{awarding/punishment}-method. The path found by the ``best ants'' are given more pheromone than the path of the ``bad ants''. In order to find the best path, the presented algorithm is concerned about the parameters \textit{distance}, \textit{width}, \textit{traffic load}, \textit{road risk}, \textit{road quality}, and \textit{number of intersections}. The algorithm was applied on a part of the city of Kerman, and the results are encouraging and well described. The algorithm provides a fast access, low cost and easy method for vehicle navigation in cities without assisting GPS.

%Mangler informasjon om algoritmene som sammenlignes med
\citet{tripathi09} solved the vehicle routing problem with stochastic demand, in which the customer demand is modeled as a stochastic variable. They performed this using an improved version of ACO, called ns-AAA SO. The proposed algorithm orients the search progressively towards favoring the global optimal solution. To do this they define that a complete iteration consists of two tours: The first tour is a social tour that corresponds to a standard ACO iteration. The second tour is a neighborhood tour where the ants are allowed to communicate important information found in the social tour and change their solutions. If the fitness value of the new solution is better, the old solution found in the social tour is replaced. To favor the optimal solution, the path of the global best path is given more pheromones. Further, to prevent the search from entrapment into a local optima, a minimum quantity of pheromone on any edge, $t_{min}$, is always maintained. The performance of ns-AAA SO was compared with both a standard ACO algorithm and a genetic algorithm. They found that ns-AAA SO outperforms the other two algorithms in every problem instance described by the authors.

%Mandler informasjon om parametersetting
\citet{dias14} introduced an inverted ACO (IACO) algorithm. The idea is that the IACO algorithm inverts the logic of the classical ACO algorithm by converting the attraction of ants towards pheromones into a repulsion effect. The proposed approach was used in a decentralized traffic management system, where the drivers acted as the inverted ants. The drivers were repelled by the scent of pheromones (other drivers), and the system thus avoids congested roads. The described approach was compared to a shortest-time algorithm (ST), and the IACO algorithm performs better than the ST algorithm with the respect to trip time, travel length, fuel consumption and $CO_2$ emissions. This is as long as a considerable amount (25-50\%) of the vehicles uses the inverted ant algorithm to decide which road to choose. 


%Parameterne er nevnt og den sammenligner med relevante algoritmer.
\citet{salehinejad10} introduced a route selection system that uses an Ant Colony System (AS), as described in Section \vref{subsec:aco}, to detect an optimum multiparameter direction between two desired points in urban areas. Their algorithm is called Fuzzy Logic-Ant Colony System (FLACS). FLACS differs from other ACSs by the employment of fuzzy logic for the local pheromone updating. The proposed system is concerned about the parameters \textit{Distance}, \textit{Traffic Flow}, and \textit{Incident Risk} on each edge. FLACS also implements a tabu list, where visited nodes are added to avoid cycles. The system is applied to a part of London, United Kingdom, consisting of 42 junctions. Their proposed system is compared to a standard ACS and a $A^*$-ACS emphasizing on the parameters mentioned above. They found that FLACS performed better at average than both systems regarding operational cost, regardless of the importance in the parameters. It is worth mentioning, the estimation of further traffic data is done by artificial neural networks, and the traffic data for each system is not exactly the same.
%They found that FLACS has less running time than $A^*$-ACS, but more than the standard ACS due to its Fuzzy Logic system component. 

%Sammenligner ikke algoritmen mot original ACO, selvom de sier at de ønsker å forbedre ACO i introduksjonen
\citet{sedighpour14} introduced a hybrid ACO (HACO) algorithm to solve the open vehicle routing problem (OVRP). This is a subproblem of the classical VRP where the vehicles are not required to return to the depot. To overcome some of the shortcomings of the original ACO, such as slow computing speed and local convergence, they made three improvements. First they equipped each node with a candidate list containing nodes nearby that had not yet been visited. Second,  they applied several local search techniques to the \textit{n} best solutions found each iteration to improve them further. Third, they decided the amount of released pheromone based on the rank of the best-known solution found so far. The HACO algorithm was compared with three versions of PSO (standard PSO, PSO without one-point move (PSOWO) and PSO without neighbors (PSOWN) regarding performance. The algorithms were tested on fifteen different sets, consisting of 19 to 72 nodes with 2 to 7 vehicles fixed at the minimum possible. Their result table shows that HACO performs better than the others regardless of the test case used.

\subsection{Urban Transit Network Design Problems}
\label{subsec:relatedWorkUTNDP}

Urban Transit Network Design Problem (UTNDP), a subproblem of VRP, considers other objectives and requires other methods for generating solutions than classical VRP problems. As mentioned in Section \vref{sec: VRP}, UTNDP is divided into two parts. The first part includes creating urban transit routes on existing networks (UTRP) and the second part involves the development of schedules (UTSP). \citet{yang07}, \citet{jiang10}, \citet{poorzahedy11}, \citet{nikolic14}, and \citet{kechagiopoulos14} all describes solutions related UTNDP. %The aim of UTRP is generally to minimize the average trip time by maximizing the number of direct travelers per unit lengths.

%Parameterne er nevnt og den sammenligner med relevante algoritmer
\citet{yang07} presented an optimization algorithm for an urban bus network design (UBND), a problem closely related to the UTNDP. This algorithm is based on \citet{dorigo96}s Ant Colony Algorithm (ACA), called coarse-grain parallel ant colony algorithm (CPACA). CPACA is very similar to the original ACA, but it applies less communication between the ants by dividing the colony of ants into sub-colonies that runs in parallel and only communicate with each other. Their results are compared with the classical MAX-MIN ant system (MMAS)\citep{stutzle99} and with ACA with Ant-weight strategy (ACA+). They found that CPACA performed best regarding both average direct traveler density and run time. 

%Parameterne er nevnt, men ikke begrunnet. Sammenligner med relevante algoritmer. 
\citet{jiang10} describes an improved ACO (IACO) algorithm to solve the UTRP. The specific improvement made to the algorithm is the implementation of a stagnation counter to determine whether the algorithm has fallen into stagnation. When there is no better solution found after an iteration, the stagnation will increase by 1. When the stagnation counter reaches a certain threshold, the pheromone levels associated with each edge is reinitialized. This improvement is done to compensate for the classical ACOs shortcomings of easily falling into stagnation and, therefore, obtain a local optimal solution. The IACO algorithm is, as the algorithm described by \citet{yang07}, compared to the classical MMAS. The results show significant improvement to the convergence speed compared to MMAS. The also found that IACO performed better both regarding average number of iterations and average path distance. 

%Parameterne er nevnt, diskutert og begrunnet. Sammenligner for så vidt med relevante algoritme (GA).
\citet{poorzahedy11} proposed an Ant System for solving the bus network design problem (BNDP). BNDP is defined as the study of choosing a subset of interconnected bus routes among a given set of such routes. A successful solving of the BNDP, similar to UTNDP, minimizes the total travel time of the users of the network and the operational cost. Like the FLACS algorithm proposed by \citet{salehinejad10} and described in Section \vref{subsec:relatedWorkVRP}, the proposed AS algorithm also employs a tabu list for each ant where visited nodes are added. Their solution generates multiple nests across the transit network and each nest is responsible for creating a subnetwork, which is combined to a complete bus network at the end. The system is only concerned about one objective; a combination of travel time for the users and the bus fleet size for the operator. The application was used to design the bus network of Mashhad and was further be compared with a genetic algorithm (GA). Their results show that their system performs better than the GA in both the number of routes, fleet size, in-vehicle travel time and waiting time. Both the GA and the AS performs significantly better than the existing solution on all measures.  

%Parameterne er nevnt, men ikke begrunnet. Sammenligner med relevante algoritmer. 
\citet{nikolic14} proposed a method for solving the UTNDP. To do this, they used an improved version of the original BCO \citep{lucic03}. The bees start with an initial solution at each iteration, where the initial solution is the best-known solution so far. The initial solution is only updated if a better solution is found. The method was tested on Mandl's benchmark problem of a Swiss bus network\citep{mandl80} and compared to competitive approaches (\citet{mandl80}; \citet{shih94}; \citet{baaj95}; \citet{bagloee11}). The performance criteria used to measure the performance was regard to the percentage of total transfer demands satisfied directly ($d_0$), with one transfer ($d_1$), two transfers ($d_2$), or with more than two transfers or not satisfied at all ($d_{unsat}$). The methods are also compared regarding total in-vehicle travel time. The experiments are conducted on route set designs with four, six, seven and eight routes. They found that the proposed method performed best regarding total travel time and number of transfers if the order of importance was set to favor the passengers and the number of lines were greater than 4. If the order of importance was set to favor what was best for the operator, the method created the solution with the smallest fleet size independent of number of lines, otherwise the method performed mediocre regarding all the other measures. 

%Parameterne er nevnt, diskutert og begrunnet. Sammenligner med relevante algoritmer.
\citet{kechagiopoulos14} designed and presented an original PSO algorithm without any changes or improvements. Their goal was to find an efficient solution to the UTRP. The target problem was, like \citet{nikolic14}, Mandl's benchmark problem, and their algorithm was compared with competitive approaches, including genetic algorithms and other metaheuristic approaches mentioned in literature (\citet{baaj91}; \citet{chakroborty02}; \citet{kidwai98}; \citet{fan10}; \citet{fan09-2}; \citet{zhang10}; \citet{chew12}). The algorithms were compared to the same performance criteria and the same amount of route set sizes as \citet{nikolic14}, but instead of comparing total in-vehicle time, they used the average in-vehicle time experienced by each passenger ($ATT$). They found that the proposed algorithm performs better than the competitors regarding $ATT$ independent the route size and achieves a better percentage of direct travelers ($d_0$) except when the route set size was four. 

\subsection{Discussion}

Based on the proposed literature review we see that swarm intelligence inspired system has proven to be useful solving multiple vehicle routing problems. During the past decade, there has been published several research on the subject and many of these reports promising results. 

We see that a lot of the newest published research addresses the weaknesses of classical SI-methods and makes changes to the original algorithms to overcome some of these weaknesses. In these cases we believe the conducted experiments should include comparison with the respective swarm method to indicate whether or not their solution improved the addressed shortcomings. \citet{tripathi09}, \citet{yang07}, \citet{salehinejad10}, and \citet{jiang10} all presented research where their swarm intelligence inspired algorithms were designed to overcome some of the known weaknesses. They compared their solutions with other corresponding swarm methods, achieving promising results. Because of this comparison, they can conclude whether or not the addressed weaknesses are improved. \citet{sedighpour14} improved the classic ACO to overcome slow computational speed and local convergence. However, they did not compare the proposed algorithm to other implementations of ACO, and the research will not be valid to conclude whether or not it actually overcomes some of ACO's weaknesses. 
Neither \citet{dias14} nor \citet{poorzahedy11} tests their solution against other swarm intelligence methods, but against other reasonable algorithms, respectively a Shortest Time-algorithm and a GA. The comparison against GA in \citet{poorzahedy11} is descriptive because they did not add additional features, other than a tabu list of all visited nodes, to the AS algorithm. In \citet{dias14}'s research, it makes sense to only test against an ST-algorithm, because they inverted the core factor of ACO. A comparison against a standard ACO would, therefore, be non-descriptive. \citet{salehi-nezhad07} did not compare their algorithm against any other algorithm at all, which makes their results hard to verify. 

The performance of metaheuristic methods, including swarm inspired methods, are highly dependent on their parameter settings. The process of parameter tuning is an important contribution to the field of swarm intelligence in general. Several researches, including \citet{salehi-nezhad07} and \citet{yang07}, describes their parameter setting as a product of ``trial and error''. We consider this to be a weakness of their research because it is not possible to validate their results. \citet{sedighpour14}, \citet{poorzahedy11}, and \citet{kechagiopoulos14} discussed and justified their parameter settings by conducting their experiments in two parts; one for parameter setting and one for performance. We consider this is a strength of their research. 

The size of the test cases used is an important factor in determining both scalability and robustness of the proposed algorithm. \citet{nikolic14} and \citet{kechagiopoulos14} both uses Mandl's benchmark problem as input. This benchmark problem, presented in Fig. \vref{fig:MandlNetwork_problemstatement},  is a small network containing 15 nodes and 21 edges.  Mandl's network is widely used and acknowledged by multiple researchers, including \citet{baaj91}, \citet{chakroborty02}, and \citet{fan09}. This is a strength of their research because it enables comparison of their results to a numerous of other solutions using the same benchmark problem. However, as mentioned, the Mandl network is quite small. The robustness of their algorithms regarding both time and space complexity could have been verified by also applying their algorithm to a larger test case. \citet{salehi-nezhad07} also applied their solution to a small test set, containing only 27 intersections and requiring only 5 ants and, like the authors that used the Mandl Network, the robustness could have been verified by also applying the algorithm to a larger test set.  

\subsection{Conclusion}
\label{subsec:relatedWorkConclusion}

Based on a review of the related work the first research question can be answered:

\subsubsection*{RQ 1: What is the state-of-the-art in solving vehicle routing problems using swarm intelligence methods and graph databases?}

%Swarm intelligence methods are suitable for solving vehicle routing problems. \citet{tripathi09}, \citet{dias14}, \citet{poorzahedy11}, \citet{nikolic14}, and \citet{kechagiopoulos14} all compared their algorithm against other approaches than SI and found that the proposed SI-algorithms generally performed better.
The structured literature review did not retrieve any previous research that used graph databases in combination with the vehicle routing problem and swarm intelligence. The state-of-the-art of solving vehicle routing problems using swarm intelligence methods can be summed up to  being inspired by original SI-methods, but to add and remove features to make the methods more suited for the tasks. Ten out of the eleven reviewed papers made changes to the original method. We notice a trend of implementing a notion of the best known solution so far, and using this to either directly or indirectly improve the solutions created by the individuals of the swarm \citep{tripathi09,sedighpour14,nikolic14}. 



%\citet{tripathi09}, \citet{yang07}, \citet{salehinejad10}, and \citet{jiang10} compared to ACO
% citet{nikolic14} and \citet{kechagiopoulos14} mandl


